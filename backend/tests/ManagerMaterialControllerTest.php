<?php

class ManagerMaterialControllerTest extends TestCase
{
    //2.8.2 启用
    public function testIndex()
    {
//        $user = factory('App\Models\User')
//            ->make([
//                'user_id' => DEFAULT_MANAGER_USER_ID,
//                'default_account_id' => DEFAULT_MANAGER_ACCOUNT_ID,
//                'role_id' => MANAGER_ROLE,
//                'agencyid' => AGENCY_ID,
//            ]);
//
//        $resp = $this->actingAs($user)->post('/manager/material/index', ['pageNo' => '1', 'pageSize' => '1000', 'search' => '', 'sort' => '']);
//        $resp->seeJson(['res' => 0]);
//        $resp = $this->actingAs($user)->post('/manager/material/index', ['pageNo' => '1', 'pageSize' => '1000', 'search' => '', ]);
//        $resp->seeJson(['res' => 0]);
//        $resp = $this->actingAs($user)->post('/manager/material/index', ['pageNo' => '1', 'pageSize' => '25', 'search' => 's', 'sort' => '-clientname']);
//        $resp->seeJson(['res' => 0]);
//        $resp = $this->actingAs($user)->post('/manager/material/index', ['pageNo' => '1', 'pageSize' => '25', 'search' => 's', 'sort' => 'app_name']);
//        $resp->seeJson(['res' => 0]);
//        $resp = $this->actingAs($user)->post('/manager/material/index', ['pageNo' => '1', 'pageSize' => '25', 'search' => 's', 'sort' => '-name']);
//        $resp->seeJson(['res' => 0]);
//        $resp = $this->actingAs($user)->post('/manager/material/index', ['pageNo' => '1', 'pageSize' => '25', 'search' => 's', 'sort' => '-name','campaignid'=>2049]);
//        $resp->seeJson(['res' => 0]);
//        $this->assertEquals(200, $resp->response->status());
    }
}